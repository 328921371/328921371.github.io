---
title: 使用SSH上传部署
categories:
  - GitHub
tags:
  - GitHub
copyright: true
comments: true
abbrlink: cd907b1d
date: 2021-08-31 18:12:00
---

<hr style='filter:progid:DXImageTransform.Microsoft.Glow(color=#FF0000,strength=10)' color='#FF0000' size='1' />

> 上传git或者coding时使用ssh

<!--more-->

因为太久没有上传博客了,所以提交代码的时候发现git报错了,查了一下百度,发现git已经不能使用账户和密码了,需要使用账户和token

嫌太麻烦了,所以统一使用ssh来上传部署

### 获取电脑的ssh公钥

打开 C盘/用户/.ssh/ 用文本编辑器打开 id_rsa.pub 文件（此处是生成公钥的默认名称，如果生成公钥时采用了其他名称，打开相对应的文件即可），复制全部内容。

### coding

* 登录 CODING ，点击右上角【个人设置】，选择菜单【SSH 公钥】，点击【新增公钥】按钮
* 将第一步中复制的内容填写到【公钥内容】一栏，公钥名称按需填写即可。
* 设定公钥有效期，可选择具体日期或设置永久有效。
* 点击【添加】，然后输入账户密码即可成功添加公钥。
* 完成后在命令行测试，首次建立链接会要求信任主机。命令 ssh -T git@e.coding.net

#### 添加部署公钥

* 登录 CODING，进入目标项目，点击【代码仓库】-> 【仓库设置】-> 【部署公钥】->【新建部署公钥】
* 将第一步中复制的内容填写到【公钥内容】一栏，公钥名称自定义。
* 点击【新建】，然后输入账户密码即可成功添加部署公钥
* 部署公钥默认拥有该项目的只读权限，如果需要获取推送权限，请勾选部署公钥设置里的【授予推送权限】

> 配置好后,在仓库设置的基本设置里可以找到自己的SSH地址, SSH 协议的 Git 仓库地址示例所示：git@e.coding.net:team-name/project-name.git

[coding官网配置ssh](https://help.coding.net/docs/project-settings/ssh.html)

### git

其他的配置都和coding一样,这里就不重复说明了,说一下git在哪里配置的

[gittu](https://img-blog.csdnimg.cn/20201223152106902.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbGVuY2VfcGlub3Q=,size_16,color_FFFFFF,t_70#pic_center#pic_center)

### hexo

都OK了的话,在hexo的_config.yml写一下配置

```
## 使用SSh公钥来配置
deploy:
  - type: git
    repo: 
      github: git@github.com:name/project.github.io.git
      coding: git@e.coding.net:team-name/project-name.git
    branch: master
```

以上就是我对SSH上传部署的一些理解,如果文章由于我学识浅薄,导致您发现有严重谬误的地方,请一定在评论中指出,我会在第一时间修正我的博文,以避免误人子弟。